{"version":3,"sources":["components/ShowPersons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["SinglePerson","person","handlePersonDelete","name","number","onClick","ShowPersons","persons","searchName","filteredPersons","filter","toLowerCase","includes","map","id","Filter","handleFilter","text","value","onChange","PersonForm","newName","newNumber","addPerson","handlePersonChange","handleNumberChange","onSubmit","type","baseUrl","personServices","getAll","axios","get","then","response","data","create","newObject","post","update","put","destroy","delete","Notification","message","className","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","Message","setMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","info","setTimeout","error","event","target","preventDefault","personObject","some","window","confirm","personToUpdate","find","length","returnedPerson","catch","fail","console","log","concat","err","newPersons","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41c6924a.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst ShowPersons = ({ persons, searchName, handlePersonDelete }) => {\r\n\r\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <ul>\r\n      {filteredPersons.map(person =>\r\n        <SinglePerson key={person.id} person={person} handlePersonDelete={handlePersonDelete} />\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nconst SinglePerson = ({ person, handlePersonDelete }) => {\r\n  return (\r\n    <li>{person.name} {person.number}\r\n      <button onClick={() => handlePersonDelete(person)}>Delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ShowPersons","import React from 'react'\r\n\r\nconst Filter = ({handleFilter, text}) => {\r\n    return (\r\n      <div>\r\n          Filter shown with:\r\n          <input\r\n            value={text}\r\n            onChange={handleFilter}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Filter\r\n","import React from \"react\"\r\n\r\nconst PersonForm = ({ newName, newNumber, addPerson,\r\n    handlePersonChange, handleNumberChange }) => {\r\n    return (\r\n      <div>\r\n        <form onSubmit={addPerson}>\r\n          <div>\r\n            Name: \r\n            <input\r\n              value={newName}\r\n              onChange={handlePersonChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            Number: \r\n            <input\r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst destroy = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst personServices = {getAll, create, update, destroy}\r\n\r\nexport default personServices\r\n","import React from \"react\"\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"errorNotification\">\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport ShowPersons from './components/ShowPersons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [Message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`\"${newName}\" is already added to phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        if (newNumber.length < 8) {\n          error('Number must be minimun of 8 character')\n        } else {\n          personService\n            .update(personToUpdate.id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n              info(`Person \"${personObject.name}\" updated`)\n            })\n            .catch(fail => {\n              console.log(fail)\n              error(`\"${personObject.name}\" is already deleted from server`)\n            })\n        }\n      }\n    }\n    else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          info(`Person \"${personObject.name}\" added`)\n        })\n        .catch(err => {\n          if (newName.length < 3) {\n            error('Name must be minimun of 3 character')\n          } else {\n            error('Number must be minimun of 8 character')\n          }\n          console.log(err.response.data)\n        })\n    }\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete \"${person.name}\"?`)) {\n      personService\n        .destroy(person.id)\n      const newPersons = persons.filter(p => p.id !== person.id)\n      setPersons([...newPersons])\n      info(`Person \"${person.name}\" deleted`)\n    }\n  }\n\n  const info = (text) => {\n    setMessage(text)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const error = (text) => {\n    setErrorMessage(text)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const handleFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={Message} />\n      <ErrorNotification message={errorMessage} />\n      <Filter handleFilter={handleFilter} text={newFilter} />\n      <h2>Add a new</h2>\n      <PersonForm newName={newName} newNumber={newNumber}\n        addPerson={addPerson} handlePersonChange={handlePersonChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <ShowPersons persons={persons} searchName={newFilter}\n        handlePersonDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}